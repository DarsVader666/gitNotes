# Github使用

## 1 Git基础
### 1.1 获取Git仓库
**在已存在目录中初始化仓库**

进入文件夹，输入
```cpp
$ git init
``` 
可以将在该文件夹下建立隐藏的.git文件，该文件夹成为git本地仓库

**克隆现有的仓库**

使用 ` git clone <url>`可以把网上仓库装在你本地。
如果想要自定义本地仓库名字，可以使用

```cpp 
$ git clone <url> <你起的名字>
```

### 1.2 记录每次更新到仓库
使用`git status`查看文件处于什么状态。

使用`git add <文件>`跟踪文件

使用`.gitignore`文件列出要忽略的文件模式
```cpp
$ cat .gitignore
*.[oa]
*~
```
第一行告诉 Git 忽略所有以 .o 或 .a 结尾的文件。一般这类对象文件和存档文件都是编译过程中出现的。 第二行告诉 Git 忽略所有名字以波浪符（~）结尾的文件，许多文本编辑软件（比如 Emacs）都用这样的文件名保存副本。
```
# 忽略所有的 .a 文件
*.a

# 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件
!lib.a

# 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO
/TODO

# 忽略任何目录下名为 build 的文件夹
build/

# 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt
doc/*.txt

# 忽略 doc/ 目录及其所有子目录下的 .pdf 文件
doc/**/*.pdf
```
https://github.com/github/gitignore

.gitignore的文件列表。

**查看已暂存和未暂存的修改**

要查看尚未暂存的文件更新了哪些部分，不加参数直接输入 `git diff`。此命令比较的是工作目录中当前文件和暂存区域快照之间的差异。 也就是修改之后还没有暂存起来的变化内容。\
若要查看已暂存的将要添加到下次提交里的内容，可以用 `git diff --staged` 命令。 这条命令将比对已暂存文件与最后一次提交的文件差异：

**提交更新**

提交前可以用`git status`查看需要的文件是不是已经暂存，再运行提交命令`git commit`。

**跳过使用暂存区域**
提交时，给`git commit`加上`-a`选项，Git会自动把所有已跟踪过的文件暂存在一起一并提交而跳过`git add`步骤
**移除文件**

要从 Git 中移除某个文件，就必须要从已跟踪文件清单中移除（确切地说，是从暂存区域移除），然后提交。 可以用`git rm`命令完成此项工作，并连带从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件清单中了。\
另外一种情况是，我们想把文件从 Git 仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中。 换句话说，你想让文件保留在磁盘，但是并不想让 Git 继续跟踪。 当你忘记添加 .gitignore 文件，不小心把一个很大的日志文件或一堆 .a 这样的编译生成文件添加到暂存区时，这一做法尤其有用。 为达到这一目的，使用 `--cached`选项：

**移动文件**

在Git中对文件改名，用
```
git mv file_from file_to
```
### 1.5 远程仓库的使用
**查看远程仓库**

运行`git remote`命令可以列出指定的每一个远程服务器的简写。如果已经克隆了仓库，至少能看到Origin(Git克隆的仓库服务器的默认名字)

**添加远程仓库**
运行`git remote add <shortname> <url>`添加新的远程Git仓库，同时可以制定一个方便使用的简写。

**从远程仓库抓取与拉取**

从远程仓库中获得数据，可以执行：
```
$ git fetch <remote>或<shortname>
```
这个命令会访问远程仓库，从中拉取所有你还没有的数据。 执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。\
如果你使用 clone 命令克隆了一个仓库，命令会自动将其添加为远程仓库并默认以 “origin” 为简写。 所以，git fetch origin 会抓取克隆（或上一次抓取）后新推送的所有工作。 必须注意 git fetch 命令只会将数据下载到你的本地仓库——它并不会自动合并或修改你当前的工作。 当准备好时你必须手动将其合并入你的工作。

**推送到远程仓库**
命令：`git push <remote> <branch>`\
将`main`分支推送到`origin`服务器，该命令可以将所作的备份到服务器：
```
$ git push origin main
```